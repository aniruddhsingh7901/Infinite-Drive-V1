{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/components/Button.tsx"],"sourcesContent":["'use client';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport default function Button({ \n  children, \n  className = '', \n  onClick,\n  type = 'button',\n  ...props \n}: ButtonProps) {\n  return (\n    <button\n      type={type}\n      className={`bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors ${className}`}\n      onClick={onClick}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}"],"names":[],"mappings":";;;;AAAA;;AAQe,SAAS,OAAO,EAC7B,QAAQ,EACR,YAAY,EAAE,EACd,OAAO,EACP,OAAO,QAAQ,EACf,GAAG,OACS;IACZ,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAC,6EAA6E,EAAE,WAAW;QACtG,SAAS;QACR,GAAG,KAAK;kBAER;;;;;;AAGP;KAjBwB"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/app/admin/books/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Button from '@/components/Button';\nimport Link from 'next/link';\n\ninterface Book {\n  id: string;\n  title: string;\n  description: string;\n  price: number;\n  sales: number;\n  formats: string[];\n  status: 'active' | 'inactive';\n}\n\nexport default function BooksManagement() {\n  const [books, setBooks] = useState<Book[]>([]);\n  const [editingBook, setEditingBook] = useState<Book | null>(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    price: '',\n    formats: ['PDF'],\n    status: 'active',\n  });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchBooks = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/books');\n        setBooks(response.data);\n      } catch (error) {\n        console.error('Error fetching books:', error);\n      }\n    };\n\n    fetchBooks();\n  }, []);\n\n  const handleEdit = (book: Book) => {\n    setEditingBook(book);\n    setFormData({\n      title: book.title,\n      description: book.description,\n      price: book.price.toString(),\n      formats: book.formats,\n      status: book.status,\n    });\n  };\n\n  const handleDelete = async (id: string) => {\n    console.log(\"ðŸš€ ~ handleDelete ~ id:\", id)\n    try {\n      await axios.delete(`http://localhost:5000/books/${id}`);\n      setBooks(books.filter(book => book.id !== id));\n    } catch (error) {\n      console.error('Error deleting book:', error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingBook) return;\n\n    setLoading(true);\n\n    try {\n      const response = await axios.put(`http://localhost:5000/books/${editingBook.id}`, formData);\n      console.log('Book updated:', response.data);\n      setBooks(books.map(book => (book.id === editingBook.id ? response.data.book : book)));\n      setEditingBook(null);\n    } catch (error) {\n      console.error('Error updating book:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold\">Books Management</h1>\n        <Link href=\"/admin/books/add\">\n          <Button className=\"flex items-center gap-2\">\n            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n            </svg>\n            Add New Book\n          </Button>\n        </Link>\n      </div>\n\n      {/* Books Table */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Book\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Formats\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Price\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Sales\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {books.map((book) => (\n              <tr key={book.id}>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-shrink-0 h-10 w-10\">\n                      {/* Book thumbnail */}\n                      <div className=\"h-10 w-10 bg-gray-200 rounded\"></div>\n                    </div>\n                    <div className=\"ml-4\">\n                      <div className=\"text-sm font-medium text-gray-900\">{book.title}</div>\n                      <div className=\"text-sm text-gray-500\">ID: {book.id}</div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex gap-2\">\n                    {book.formats.map((format) => (\n                      <span\n                        key={format}\n                        className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800\"\n                      >\n                        {format}\n                      </span>\n                    ))}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  ${book.price}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {book.sales}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                    book.status === 'active' \n                      ? 'bg-green-100 text-green-800' \n                      : 'bg-gray-100 text-gray-800'\n                  }`}>\n                    {book.status}\n                  </span>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <div className=\"flex space-x-3\">\n                    <button \n                      className=\"text-blue-600 hover:text-blue-900\"\n                      onClick={() => handleEdit(book)}\n                    >\n                      Edit\n                    </button>\n                    <button \n                      className=\"text-red-600 hover:text-red-900\"\n                      onClick={() => handleDelete(book.id)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Edit Book Modal */}\n      {editingBook && (\n        <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\n          <div className=\"bg-white rounded-lg shadow p-6 w-full max-w-lg\">\n            <h2 className=\"text-2xl font-bold mb-6\">Edit Book</h2>\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Title\n                  </label>\n                  <input\n                    type=\"text\"\n                    required\n                    className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={formData.title}\n                    onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Description\n                  </label>\n                  <textarea\n                    required\n                    rows={4}\n                    className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={formData.description}\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Price ($)\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    required\n                    className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={formData.price}\n                    onChange={(e) => setFormData({ ...formData, price: e.target.value })}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Available Formats\n                  </label>\n                  <div className=\"flex gap-4\">\n                    {['PDF', 'EPUB'].map((format) => (\n                      <label key={format} className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={formData.formats.includes(format as 'PDF' | 'EPUB')}\n                          onChange={(e) => {\n                            const newFormats = e.target.checked\n                              ? [...formData.formats, format as 'PDF' | 'EPUB']\n                              : formData.formats.filter(f => f !== format);\n                            setFormData({ ...formData, formats: newFormats });\n                          }}\n                          className=\"mr-2\"\n                        />\n                        {format}\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Status\n                  </label>\n                  <select\n                    value={formData.status}\n                    onChange={(e) => setFormData({ ...formData, status: e.target.value as 'active' | 'inactive' })}\n                    className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end space-x-4 pt-4\">\n                <Button\n                  type=\"button\"\n                  className=\"bg-gray-500 hover:bg-gray-600\"\n                  onClick={() => setEditingBook(null)}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={loading}\n                  className={loading ? 'opacity-50 cursor-not-allowed' : ''}\n                >\n                  {loading ? 'Updating Book...' : 'Update Book'}\n                </Button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}