{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/components/protectedRoute.tsx"],"sourcesContent":["// // 'use client';\n\n// import { useEffect } from 'react';\n// import { useRouter, usePathname } from 'next/navigation';\n// import { useAuth } from '../context/authContext';\n\n// // const ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n// //   const { user, loading } = useAuth();\n// //   const router = useRouter();\n\n// //   useEffect(() => {\n// //     if (!loading && !user) {\n// //       router.push('/admin/login');\n// //     }\n// //   }, [user, loading, router]);\n\n// //   if (loading) {\n// //     return <div>Loading...</div>;\n// //   }\n\n// //   if (!user) {\n// //     return <div>You are not authorized to view this page.</div>;\n// //   }\n\n// //   return <>{children}</>;\n// // };\n\n// // \n\n// const ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n//   const { user, loading } = useAuth();\n//   const router = useRouter();\n//   const pathname = usePathname();\n\n//   useEffect(() => {\n//     if (!loading && !user && pathname !== '/admin/login') {\n//       router.push('/admin/login');\n//     }\n//   }, [user, loading, router, pathname]);\n\n//   if (loading) {\n//     return (\n//       <div className=\"flex items-center justify-center min-h-screen\">\n//         <div className=\"text-xl\">Loading...</div>\n//       </div>\n//     );\n//   }\n\n//   return <>{children}</>;\n// };\n\n// export default ProtectedRoute;\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useAuth } from '../context/authContext';\n\nconst ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (mounted && !loading && !user && pathname !== '/admin/login') {\n      router.push('/admin/login');\n    }\n  }, [user, loading, router, pathname, mounted]);\n\n  if (!mounted || loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\" />\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;"],"names":[],"mappings":"AAAA,mBAAmB;AAEnB,qCAAqC;AACrC,4DAA4D;AAC5D,oDAAoD;AAEpD,+EAA+E;AAC/E,4CAA4C;AAC5C,mCAAmC;AAEnC,yBAAyB;AACzB,kCAAkC;AAClC,wCAAwC;AACxC,WAAW;AACX,oCAAoC;AAEpC,sBAAsB;AACtB,uCAAuC;AACvC,SAAS;AAET,oBAAoB;AACpB,sEAAsE;AACtE,SAAS;AAET,+BAA+B;AAC/B,QAAQ;AAER,MAAM;AAEN,4EAA4E;AAC5E,yCAAyC;AACzC,gCAAgC;AAChC,oCAAoC;AAEpC,sBAAsB;AACtB,8DAA8D;AAC9D,qCAAqC;AACrC,QAAQ;AACR,2CAA2C;AAE3C,mBAAmB;AACnB,eAAe;AACf,wEAAwE;AACxE,oDAAoD;AACpD,eAAe;AACf,SAAS;AACT,MAAM;AAEN,4BAA4B;AAC5B,KAAK;AAEL,iCAAiC;;;;;AAIjC;AACA;AACA;AAJA;;;;;AAMA,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAiC;IACjE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IAChC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;IACb,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,CAAC,WAAW,CAAC,QAAQ,aAAa,gBAAgB;YAC/D,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;QAAQ;QAAU;KAAQ;IAE7C,IAAI,CAAC,WAAW,SAAS;QACvB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBAAO;kBAAG;;AACZ;uCAEe"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/app/admin/layout.tsx"],"sourcesContent":["\n\n// 'use client';\n\n// import { useState, useEffect } from 'react';\n// import { useRouter } from 'next/navigation';\n// import Link from 'next/link';\n// import axios from 'axios';\n\n// const menuItems = [\n//   { href: '/admin', label: 'Dashboard', icon: 'dashboard' },\n//   { href: '/admin/books', label: 'Books', icon: 'book' },\n//   { href: '/admin/orders', label: 'Orders', icon: 'shopping-cart' },\n//   { href: '/admin/settings', label: 'Settings', icon: 'cog' }\n// ];\n\n// export default function AdminLayout({\n//   children,\n// }: {\n//   children: React.ReactNode;\n// }) {\n//   const router = useRouter();\n//   const [isSidebarOpen, setSidebarOpen] = useState(true);\n\n//   useEffect(() => {\n//     const token = localStorage.getItem('token');\n//     if (!token) {\n//       router.push('/admin/login');\n//     }\n//   }, [router]);\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('token');\n//     router.push('/admin/login');\n//   };\n\n//   return (\n//     <div className=\"min-h-screen bg-gray-100\">\n//       {/* Sidebar */}\n//       <div className={`fixed inset-y-0 left-0 z-50 w-64 bg-gray-900 transform transition-transform duration-200 ease-in-out ${\n//         isSidebarOpen ? 'translate-x-0' : '-translate-x-full'\n//       }`}>\n//         <div className=\"flex flex-col h-full\">\n//           {/* Admin Header */}\n//           <div className=\"flex items-center justify-between px-4 py-6 border-b border-gray-800\">\n//             <h1 className=\"text-xl font-bold text-white\">Admin Panel</h1>\n//             <button onClick={() => setSidebarOpen(false)} className=\"lg:hidden text-gray-400 hover:text-white\">\n//               <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n//               </svg>\n//             </button>\n//           </div>\n\n//           {/* Navigation */}\n//           <nav className=\"flex-1 px-4 py-6 space-y-2\">\n//             {menuItems.map((item) => (\n//               <Link\n//                 key={item.href}\n//                 href={item.href}\n//                 className=\"flex items-center px-4 py-3 text-gray-300 rounded-lg hover:bg-gray-800 hover:text-white transition-colors\"\n//               >\n//                 <span>{item.label}</span>\n//               </Link>\n//             ))}\n//           </nav>\n//         </div>\n//       </div>\n\n//       {/* Main Content */}\n//       <div className={`lg:pl-64 transition-all duration-200 ${isSidebarOpen ? 'pl-64' : 'pl-0'}`}>\n//         <header className=\"bg-white shadow-sm\">\n//           <div className=\"flex items-center justify-between px-4 py-4\">\n//             <button\n//               onClick={() => setSidebarOpen(!isSidebarOpen)}\n//               className=\"text-gray-500 hover:text-gray-700\"\n//             >\n//               <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n//               </svg>\n//             </button>\n//             <div className=\"flex items-center space-x-4\">\n//               <button className=\"text-gray-500 hover:text-gray-700\">\n//                 <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n//                   <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n//                 </svg>\n//               </button>\n//               <div className=\"relative\">\n//                 <button className=\"flex items-center space-x-2 text-gray-700 hover:text-gray-900\">\n//                   <div className=\"w-8 h-8 rounded-full bg-gray-200\"></div>\n//                   <span>Admin</span>\n//                 </button>\n//               </div>\n//               <button onClick={handleLogout} className=\"text-gray-500 hover:text-gray-700\">\n//                 Logout\n//               </button>\n//             </div>\n//           </div>\n//         </header>\n\n//         <main className=\"p-6\">{children}</main>\n//       </div>\n//     </div>\n//   );\n// }\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { usePathname } from 'next/navigation';\nimport Link from 'next/link';\nimport ProtectedRoute from '../../components/protectedRoute';\nimport { useAuth } from '../../context/uthContext';\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const pathname = usePathname();\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) {\n    return null;\n  }\n\n  if (pathname === '/admin/login') {\n    return <>{children}</>;\n  }\n\n  return <ProtectedRoute>{children}</ProtectedRoute>;\n}"],"names":[],"mappings":"AAEA,gBAAgB;AAEhB,+CAA+C;AAC/C,+CAA+C;AAC/C,gCAAgC;AAChC,6BAA6B;AAE7B,sBAAsB;AACtB,+DAA+D;AAC/D,4DAA4D;AAC5D,uEAAuE;AACvE,gEAAgE;AAChE,KAAK;AAEL,wCAAwC;AACxC,cAAc;AACd,OAAO;AACP,+BAA+B;AAC/B,OAAO;AACP,gCAAgC;AAChC,4DAA4D;AAE5D,sBAAsB;AACtB,mDAAmD;AACnD,oBAAoB;AACpB,qCAAqC;AACrC,QAAQ;AACR,kBAAkB;AAElB,iCAAiC;AACjC,wCAAwC;AACxC,mCAAmC;AACnC,OAAO;AAEP,aAAa;AACb,iDAAiD;AACjD,wBAAwB;AACxB,iIAAiI;AACjI,gEAAgE;AAChE,aAAa;AACb,iDAAiD;AACjD,iCAAiC;AACjC,mGAAmG;AACnG,4EAA4E;AAC5E,kHAAkH;AAClH,gGAAgG;AAChG,iHAAiH;AACjH,uBAAuB;AACvB,wBAAwB;AACxB,mBAAmB;AAEnB,+BAA+B;AAC/B,yDAAyD;AACzD,yCAAyC;AACzC,sBAAsB;AACtB,kCAAkC;AAClC,mCAAmC;AACnC,wIAAwI;AACxI,kBAAkB;AAClB,4CAA4C;AAC5C,wBAAwB;AACxB,kBAAkB;AAClB,mBAAmB;AACnB,iBAAiB;AACjB,eAAe;AAEf,6BAA6B;AAC7B,qGAAqG;AACrG,kDAAkD;AAClD,0EAA0E;AAC1E,sBAAsB;AACtB,+DAA+D;AAC/D,8DAA8D;AAC9D,gBAAgB;AAChB,gGAAgG;AAChG,oHAAoH;AACpH,uBAAuB;AACvB,wBAAwB;AACxB,4DAA4D;AAC5D,uEAAuE;AACvE,kGAAkG;AAClG,4RAA4R;AAC5R,yBAAyB;AACzB,0BAA0B;AAC1B,2CAA2C;AAC3C,qGAAqG;AACrG,6EAA6E;AAC7E,uCAAuC;AACvC,4BAA4B;AAC5B,uBAAuB;AACvB,8FAA8F;AAC9F,yBAAyB;AACzB,0BAA0B;AAC1B,qBAAqB;AACrB,mBAAmB;AACnB,oBAAoB;AAEpB,kDAAkD;AAClD,eAAe;AACf,aAAa;AACb,OAAO;AACP,IAAI;;;;;AAGJ;AACA;AAEA;AALA;;;;;AAQe,SAAS,YAAY,EAClC,QAAQ,EAGT;IACC,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;IACb,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,IAAI,aAAa,gBAAgB;QAC/B,qBAAO;sBAAG;;IACZ;IAEA,qBAAO,8OAAC,oIAAA,CAAA,UAAc;kBAAE;;;;;;AAC1B"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}