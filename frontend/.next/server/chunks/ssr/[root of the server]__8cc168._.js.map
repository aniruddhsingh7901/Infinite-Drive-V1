{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/lib/cart/CartContext.tsx"],"sourcesContent":["// 'use client';\n\n// import { createContext, useContext, useState, ReactNode } from 'react';\n\n// export interface CartItem {\n//   id: string;\n//   title: string;\n//   price: number;\n//   format: 'PDF' | 'EPUB';\n// }\n\n// export interface CartContextProps {\n//   items: CartItem[];\n//   addItem: (item: CartItem) => void;\n//   removeItem: (id: string) => void;\n//   clearCart: () => void;\n//   total: number;\n// }\n\n// const CartContext = createContext<CartContextProps | undefined>(undefined);\n\n// export function CartProvider({ children }: { children: ReactNode }) {\n//   const [items, setItems] = useState<CartItem[]>([]);\n\n//   const addItem = (item: CartItem) => {\n//     setItems(current => [...current, item]);\n//   };\n\n//   const removeItem = (id: string) => {\n//     setItems(current => current.filter(item => item.id !== id));\n//   };\n\n//   const clearCart = () => setItems([]);\n\n//   const total = items.reduce((sum, item) => sum + item.price, 0);\n\n//   return (\n//     <CartContext.Provider value={{ items, addItem, removeItem, clearCart, total }}>\n//       {children}\n//     </CartContext.Provider>\n//   );\n// }\n\n// export function useCart(): CartContextProps {\n//   const context = useContext(CartContext);\n//   if (context === undefined) {\n//     throw new Error('useCart must be used within a CartProvider');\n//   }\n//   return context;\n// }\n\n'use client';\n\nimport { createContext, useContext, useState } from 'react';\n\nexport interface CartItem {\n  id: string;\n  title: string;\n  price: number;\n  quantity: number;  // Added this\n  format: 'PDF' | 'EPUB';  // Added this\n}\n\ntype CartContextType = {\n  items: CartItem[];\n  addItem: (item: Omit<CartItem, 'quantity'>) => void;\n  removeItem: (id: string) => void;\n  clearCart: () => void;\n  total: number;\n  itemCount: number;\n}\n\nconst CartContext = createContext<CartContextType | null>(null);\n\nexport function CartProvider({ children }: { children: React.ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>([]);\n\n  const addItem = (item: Omit<CartItem, 'quantity'>) => {\n    setItems(current => {\n      const exists = current.find(i => i.id === item.id);\n      if (exists) {\n        return current.map(i => \n          i.id === item.id \n            ? { ...i, quantity: i.quantity + 1 }\n            : i\n        );\n      }\n      return [...current, { ...item, quantity: 1 }];\n    });\n  };\n\n  const removeItem = (id: string) => {\n    setItems(current => current.filter(item => item.id !== id));\n  };\n\n  const clearCart = () => setItems([]);\n\n  const total = items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const itemCount = items.reduce((count, item) => count + item.quantity, 0);\n\n  return (\n    <CartContext.Provider value={{ \n      items, \n      addItem, \n      removeItem, \n      clearCart, \n      total,\n      itemCount \n    }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const context = useContext(CartContext);\n  if (!context) throw new Error('useCart must be used within CartProvider');\n  return context;\n}"],"names":[],"mappings":"AAAA,gBAAgB;AAEhB,0EAA0E;AAE1E,8BAA8B;AAC9B,gBAAgB;AAChB,mBAAmB;AACnB,mBAAmB;AACnB,4BAA4B;AAC5B,IAAI;AAEJ,sCAAsC;AACtC,uBAAuB;AACvB,uCAAuC;AACvC,sCAAsC;AACtC,2BAA2B;AAC3B,mBAAmB;AACnB,IAAI;AAEJ,8EAA8E;AAE9E,wEAAwE;AACxE,wDAAwD;AAExD,0CAA0C;AAC1C,+CAA+C;AAC/C,OAAO;AAEP,yCAAyC;AACzC,mEAAmE;AACnE,OAAO;AAEP,0CAA0C;AAE1C,oEAAoE;AAEpE,aAAa;AACb,sFAAsF;AACtF,mBAAmB;AACnB,8BAA8B;AAC9B,OAAO;AACP,IAAI;AAEJ,gDAAgD;AAChD,6CAA6C;AAC7C,iCAAiC;AACjC,qEAAqE;AACrE,MAAM;AACN,oBAAoB;AACpB,IAAI;;;;;;AAIJ;AAFA;;;AAqBA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA0B;AAEnD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAEjD,MAAM,UAAU,CAAC;QACf,SAAS,CAAA;YACP,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,EAAE;YACjD,IAAI,QAAQ;gBACV,OAAO,QAAQ,GAAG,CAAC,CAAA,IACjB,EAAE,EAAE,KAAK,KAAK,EAAE,GACZ;wBAAE,GAAG,CAAC;wBAAE,UAAU,EAAE,QAAQ,GAAG;oBAAE,IACjC;YAER;YACA,OAAO;mBAAI;gBAAS;oBAAE,GAAG,IAAI;oBAAE,UAAU;gBAAE;aAAE;QAC/C;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,SAAS,CAAA,UAAW,QAAQ,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;IACzD;IAEA,MAAM,YAAY,IAAM,SAAS,EAAE;IAEnC,MAAM,QAAQ,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IAC5E,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAEvE,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAC3B;YACA;YACA;YACA;YACA;YACA;QACF;kBACG;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}