{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/context/authContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { useRouter } from 'next/navigation';\nimport axios from 'axios';\n\ninterface AuthContextType {\n  user: any;\n  loading: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const [user, setUser] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    console.log(\"ðŸš€ ~ useEffect ~ token:\", token)\n    if (token) {\n      axios.get('http://localhost:5000/auth/check-auth', {\n        headers: { Authorization: `Bearer ${token}` }\n      })\n      .then(response => {\n        setUser(response.data.user);\n        setLoading(false);\n      })\n      .catch(() => {\n        localStorage.removeItem('token');\n        setLoading(false);\n      });\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const login = async (email: string, password: string) => {\n    setLoading(true);\n    try {\n      const response = await axios.post('http://localhost:5000/auth/login', { email, password });\n      console.log(\"ðŸš€ ~ login ~ response:\", response)\n      localStorage.setItem('token', response.data.token);\n      setUser(response.data.user);\n      router.push('/admin');\n    } catch (error) {\n      console.error('Login failed:', error);\n      setLoading(false);\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n    router.push('/admin/login');\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,QAAQ,GAAG,CAAC,2BAA2B;QACvC,IAAI,OAAO;YACT,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,yCAAyC;gBACjD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C,GACC,IAAI,CAAC,CAAA;gBACJ,QAAQ,SAAS,IAAI,CAAC,IAAI;gBAC1B,WAAW;YACb,GACC,KAAK,CAAC;gBACL,aAAa,UAAU,CAAC;gBACxB,WAAW;YACb;QACF,OAAO;YACL,WAAW;QACb;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe;QAClC,WAAW;QACX,IAAI;YACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,oCAAoC;gBAAE;gBAAO;YAAS;YACxF,QAAQ,GAAG,CAAC,0BAA0B;YACtC,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,KAAK;YACjD,QAAQ,SAAS,IAAI,CAAC,IAAI;YAC1B,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,WAAW;QACb;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAO;QAAO;kBACzD;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/components/protectedRoute.tsx"],"sourcesContent":["// 'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../context/authContext';\n\nconst ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push('/admin/login');\n    }\n  }, [user, loading, router]);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!user) {\n    return <div>You are not authorized to view this page.</div>;\n  }\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAEhB;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAiC;IACjE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IAChC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACX,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,IAAI,CAAC,MAAM;QACT,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,qBAAO;kBAAG;;AACZ;uCAEe"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///home/im/infinite-drive/frontend/src/app/admin/layout.tsx"],"sourcesContent":["\n\n// 'use client';\n\n// import { useState, useEffect } from 'react';\n// import { useRouter } from 'next/navigation';\n// import Link from 'next/link';\n// import axios from 'axios';\n\n// const menuItems = [\n//   { href: '/admin', label: 'Dashboard', icon: 'dashboard' },\n//   { href: '/admin/books', label: 'Books', icon: 'book' },\n//   { href: '/admin/orders', label: 'Orders', icon: 'shopping-cart' },\n//   { href: '/admin/settings', label: 'Settings', icon: 'cog' }\n// ];\n\n// export default function AdminLayout({\n//   children,\n// }: {\n//   children: React.ReactNode;\n// }) {\n//   const router = useRouter();\n//   const [isSidebarOpen, setSidebarOpen] = useState(true);\n\n//   useEffect(() => {\n//     const token = localStorage.getItem('token');\n//     if (!token) {\n//       router.push('/admin/login');\n//     }\n//   }, [router]);\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('token');\n//     router.push('/admin/login');\n//   };\n\n//   return (\n//     <div className=\"min-h-screen bg-gray-100\">\n//       {/* Sidebar */}\n//       <div className={`fixed inset-y-0 left-0 z-50 w-64 bg-gray-900 transform transition-transform duration-200 ease-in-out ${\n//         isSidebarOpen ? 'translate-x-0' : '-translate-x-full'\n//       }`}>\n//         <div className=\"flex flex-col h-full\">\n//           {/* Admin Header */}\n//           <div className=\"flex items-center justify-between px-4 py-6 border-b border-gray-800\">\n//             <h1 className=\"text-xl font-bold text-white\">Admin Panel</h1>\n//             <button onClick={() => setSidebarOpen(false)} className=\"lg:hidden text-gray-400 hover:text-white\">\n//               <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n//               </svg>\n//             </button>\n//           </div>\n\n//           {/* Navigation */}\n//           <nav className=\"flex-1 px-4 py-6 space-y-2\">\n//             {menuItems.map((item) => (\n//               <Link\n//                 key={item.href}\n//                 href={item.href}\n//                 className=\"flex items-center px-4 py-3 text-gray-300 rounded-lg hover:bg-gray-800 hover:text-white transition-colors\"\n//               >\n//                 <span>{item.label}</span>\n//               </Link>\n//             ))}\n//           </nav>\n//         </div>\n//       </div>\n\n//       {/* Main Content */}\n//       <div className={`lg:pl-64 transition-all duration-200 ${isSidebarOpen ? 'pl-64' : 'pl-0'}`}>\n//         <header className=\"bg-white shadow-sm\">\n//           <div className=\"flex items-center justify-between px-4 py-4\">\n//             <button\n//               onClick={() => setSidebarOpen(!isSidebarOpen)}\n//               className=\"text-gray-500 hover:text-gray-700\"\n//             >\n//               <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n//                 <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n//               </svg>\n//             </button>\n//             <div className=\"flex items-center space-x-4\">\n//               <button className=\"text-gray-500 hover:text-gray-700\">\n//                 <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n//                   <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n//                 </svg>\n//               </button>\n//               <div className=\"relative\">\n//                 <button className=\"flex items-center space-x-2 text-gray-700 hover:text-gray-900\">\n//                   <div className=\"w-8 h-8 rounded-full bg-gray-200\"></div>\n//                   <span>Admin</span>\n//                 </button>\n//               </div>\n//               <button onClick={handleLogout} className=\"text-gray-500 hover:text-gray-700\">\n//                 Logout\n//               </button>\n//             </div>\n//           </div>\n//         </header>\n\n//         <main className=\"p-6\">{children}</main>\n//       </div>\n//     </div>\n//   );\n// }\n'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport ProtectedRoute from '../../components/protectedRoute';\nimport { useAuth } from '../../context/authContext';\n\nconst menuItems = [\n  { href: '/admin', label: 'Dashboard', icon: 'dashboard' },\n  { href: '/admin/books', label: 'Books', icon: 'book' },\n  { href: '/admin/orders', label: 'Orders', icon: 'shopping-cart' },\n  { href: '/admin/settings', label: 'Settings', icon: 'cog' }\n];\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\n  const { logout } = useAuth();\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  return (\n    <ProtectedRoute>\n      <div className=\"flex h-screen bg-gray-100\">\n        <aside className={`bg-white w-64 shadow-md ${isSidebarOpen ? 'block' : 'hidden'} md:block`}>\n          <div className=\"p-4\">\n            <h2 className=\"text-2xl font-bold\">Admin Panel</h2>\n          </div>\n          <nav className=\"mt-5\">\n            {menuItems.map((item) => (\n              <Link key={item.href} href={item.href} className=\"block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 bg-gray-200 rounded-lg hover:bg-gray-300\">\n                {item.label}\n              </Link>\n            ))}\n          </nav>\n          <div className=\"p-4\">\n            <button\n              onClick={handleLogout}\n              className=\"w-full px-4 py-2 mt-2 text-sm font-semibold text-white bg-red-500 rounded-lg hover:bg-red-600\"\n            >\n              Logout\n            </button>\n          </div>\n        </aside>\n        <div className=\"flex-1 flex flex-col overflow-hidden\">\n          <header className=\"flex items-center justify-between p-4 bg-white shadow-md\">\n            <button\n              onClick={() => setSidebarOpen(!isSidebarOpen)}\n              className=\"text-gray-500 focus:outline-none md:hidden\"\n            >\n              <svg\n                className=\"w-6 h-6\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M4 6h16M4 12h16m-7 6h7\"\n                ></path>\n              </svg>\n            </button>\n            <h1 className=\"text-xl font-bold\">Admin Panel</h1>\n          </header>\n          <main className=\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100\">\n            <div className=\"container mx-auto px-6 py-8\">\n              {children}\n            </div>\n          </main>\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}